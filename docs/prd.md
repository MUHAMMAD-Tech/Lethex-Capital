# LETHEX Digital Asset Fund Management System Requirements Document

## 1. Application Overview

### 1.1 Application Name
LETHEX\n
### 1.2 Application Description
LETHEX is a digital asset fund viewer and manual management system designed for fund administrators and holders. The platform provides informational balance tracking, manual transaction approval workflows, and real-time cryptocurrency price monitoring. No blockchain interaction or real money processing is involved - all operations require manual admin approval.

### 1.3 Core Positioning
- Informational digital asset portfolio viewer
- Manual approval-based transaction management
- Admin-controlled fund operations
- Real-time price tracking with dual currency display (USDT + KGS)

## 2. Technical Architecture

### 2.1 Frontend Stack
- React (Vite)
- Tailwind CSS (mobile-first approach)
- Zustand (global state management)
- Framer Motion (animations)

### 2.2 Backend Stack\n- Node.js + Express\n- SQLite (single-file database)
- REST API architecture

### 2.3 External APIs
- CoinGecko public API
- Price refresh interval: 1 second
- Backend caching with fail-safe mechanism

## 3. Access Control System

### 3.1 Initial Admin Access\n- Default admin access code: Muso2909 (temporary, first-time use only)
- Single unified login input for both admin and holders
- No separate /admin route\n
### 3.2 Access Code Logic
- Admin access code checked first
- If match → Admin Panel
- If holder code match → Holder Dashboard
- If no match → 'Invalid access code' error

### 3.3 Admin Code Management
- Admin can change access code via Admin Panel → Settings
- Only ONE admin access code exists at any time
- New code stored in database
- Old code becomes invalid immediately upon change

### 3.4 Holder Access Codes
- Auto-generated by admin
- Unique per holder
- Session persists after page refresh
- EXIT button clears session

## 4. Token System

### 4.1 Allowed Tokens (Top 50 Native Coins Only)
BTC, ETH, USDT, BNB, SOL, USDC, XRP, TON, ADA, DOGE, AVAX, TRX, DOT, MATIC, LINK, ICP, NEAR, LTC, BCH, ATOM, XLM, UNI, ETC, XMR, OKB, APT, HBAR, FIL, ARB, VET, QNT, MKR, CRO, ALGO, AAVE, GRT, EOS, FTM, THETA, XTZ, IMX, INJ, OP, RNDR, KAVA, ZEC, MINA, DASH, IOTA, CAKE
\n### 4.2 Token Restrictions
- NO wrapped tokens\n- NO staked tokens
- NO LP tokens
- NO synthetic or derivative tokens
- Whitelist enforced at backend level
- Non-whitelisted tokens: not rendered, not selectable, not assignable
\n### 4.3 Token Selector UI
- Modal-based selection interface
- Fixed header: 'Select Asset'
- Sticky search input at top
- Scrollable list (max-height: 80vh)\n- Visible Close (X) button
- Each token row displays:
  - Token logo (left)
  - Symbol (bold)
  - Full name (muted text)
  - Live price (right-aligned)
- Clear hover and selected states
- Smooth scrolling on Android and desktop
- Solid backgrounds (no transparency)

## 5. Admin Panel Features

### 5.1 Settings\n- Change admin access code
- System configuration
\n### 5.2 Holder Management
- Add new holders
- Edit holder information
- Delete holders
- Auto-generate unique holder access codes
\n### 5.3 Asset Management
- Assign assets to holders (Top-50 tokens only)
- Edit asset amounts\n- View holder portfolios
\n### 5.4 Transaction Approval
- Approve/reject swap requests
- Approve buy requests
- Handle sell requests manually
- Enter execution prices for swaps

### 5.5 History & Reporting
- View complete transaction history
- View commission summary:\n  - Total fees in USDT and KGS
  - Per-holder breakdown
  - Date and time stamps

## 6. Holder Dashboard Features

### 6.1 Portfolio View
- View assigned assets
- Live prices in USDT and KGS
- Real-time balance updates

### 6.2 Transaction Requests
- Submit swap requests
- Submit buy requests
- Submit sell requests
\n### 6.3 History\n- View personal transaction history
- Click for detailed transaction information

## 7. Swap System

### 7.1 Swap Rules
- Only owned assets can be swapped
- Swap fee: 1% of transaction amount
- Amount validation:
  - Requested amount must not exceed holder balance
  - Insufficient balance blocks transaction
\n### 7.2 Swap Calculation
- Fee = amount × 0.01\n- Net = amount - Fee
- Received = Net ÷ executionPrice

### 7.3 Swap UI
- Clean numeric amount input field
- Quick percentage buttons: 25% / 50% / 75% / 100%
- Live preview display:\n  - Transaction fee
  - Net amount after fee
  - Estimated tokens received

### 7.4 Swap Approval Flow
- Holder submits swap request
- Admin enters execution price manually
- Admin approves swap\n- Balances update atomically

## 8. Buy System

### 8.1 Buy Flow
- Holder submits buy request
- Admin reviews request
- Admin approves and adds asset to holder portfolio

## 9. Sell System

### 9.1 Sell Flow
- Holder submits sell request
- System displays message: 'Please contact admin via Telegram'\n- Admin adjusts balances manually after off-platform confirmation

## 10. Commission System

### 10.1 Fee Collection
- 1% fee collected on each swap transaction
- Fees stored per transaction in database
\n### 10.2 Commission Reporting
- Total fees displayed in USDT and KGS
- Per-holder fee breakdown
- Transaction date and time tracking

## 11. Transaction History

### 11.1 History Entry Fields
- Holder name
- Action type (Swap / Buy / Sell)
- From asset → To asset
- Amount
- Fee
- Net amount\n- Execution price
- Status
- Requested timestamp
- Approved timestamp

### 11.2 History UI
- Click entry to open detail modal
- No overlapping text
- Mobile-friendly card layout
- Desktop table layout

## 12. Responsive Design Requirements

### 12.1 Mobile Layout
- Single-column layout\n- Sidebar converts to hamburger drawer
- Tables convert to card format
- Full-width buttons (minimum 44px height)
- No content overlap or hidden elements

### 12.2 Desktop Layout
- Visible sidebar navigation
- Grid/table layouts allowed
- Centered modals\n- Optimized spacing\n
## 13. UI/UX Design Guidelines

### 13.1 Design Style
- Premium dark fintech aesthetic
- Deep charcoal backgrounds (#0f1419, #1a1f26)
- Accent colors: electric blue (#00d4ff) for primary actions, amber (#fbbf24) for warnings
- Subtle card elevation with soft shadows
- Clean sans-serif typography (Inter or similar)
- Smooth micro-interactions and transitions

### 13.2 Interaction Standards
- No browser alert() dialogs
- Custom modal components for all confirmations
- Proper empty states with helpful messaging
- Loading states with skeleton screens
- Smooth Framer Motion animations
- Clear visual hierarchy

### 13.3 Data Display
- No fake $0.00 prices
- Real-time price updates
- Proper number formatting
- Clear currency indicators (USDT/KGS)\n\n## 14. Development Standards

### 14.1 Code Quality
- Brand-new codebase from scratch
- No legacy code reuse
- No carryover bugs
- Clean, consistent code structure
- Production-ready implementation

### 14.2 Testing Requirements
- Responsive testing on mobile and desktop
- Token whitelist enforcement testing
- Access control validation
- Transaction flow testing
- Price update reliability testing